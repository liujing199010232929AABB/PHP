<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>DOM实战：模拟智能在线客服系统</title>
	<style type="text/css" media="screen">
		div:nth-child(1){width:450px;height:650px;background-color:lightskyblue;margin:30px auto;color:#333;box-shadow:2px 2px 2px #808080;}
		h2{text-align:center;margin-bottom:-10px;}
		div:nth-child(2){width:400px;height:500px;border:4px double green;background-color:#efefef;margin:20px auto 10px;}
		ul{list-style:none;line-height:2em;overflow:hidden;padding:15px;}
		table{width:90%;height:80px;margin:5px auto;}
		textarea{border:none;resize:none;background-color:lightyellow;}
		button{width:60px;height:40px;background-color:seagreen;color:white;border:none;}
		button:hover{cursor:pointer;background-color:#F87200;}
	</style>
</head>
<body>
	<div>
		<h2>在线客服系统</h2>
		<div>
			<ul>
				<li></li>
			</ul>
		</div>
		<table>
			<tr>
				<td align="right"><textarea name="text" cols="50" rows="4"></textarea></td>
				<td align="left"><button type="button">发送</button></td>
			</tr>
		</table>
	</div>
	<script>
		//获取到页面中的相关元素
		let btn =document.getElementsByTagName('button')[0];
		let text=document.getElementsByName('text')[0];
		let list=document.getElementsByTagName('ul')[0];
		let sum=0;//计数器
		//添加点击事件，获取用户所的内容并发送到窗口
		btn.onclick =function(){
			//alert(text.value);
			if(text.value.length === 0){
				alert('大官人是不是忘了说了什么了？？');
				return false;
			}
			let userComment = text.value;
			text.value = '';
			//创建列表
			let li =document.createElement('li');
			let userPic = '<img src="../static/images/pic.png" width="30" style="border-radius:50%">';
			li.innerHTML=userPic +'  '+userComment;
			list.appendChild(li);
			sum +=1;

			//设置一个定时器
			setTimeout(function(){
				//自动恢复信息的模板
				let info =[
					'真烦人，有话快说，别耽误我玩抖音！',
					'除了退货退款，什么都可以问',
					'说的啥，本姑娘怎么听不懂呢',
					'在我觉得方便的时候回复你',
					'投诉我的人多了，你算老几....'
				];
				let temp=info[Math.floor(Math.random()*4)];//1-5zz直接的数
				let reply=document.createElement('li');
				let kefuPic= '<img src="../static/images/footlogo.png" width="30"style="border-radius:50%">';
				reply.innerHTML=kefuPic+'  '+'<span style="color:red">'+temp+'</span>';
				list.appendChild(reply);
				sum +=1;
			},2000);

			//清空窗口并将计数器清零
			if(sum>10){
				list.innerHTML = '';
				sum =0;
			}
			

			

		}



	</script>
	
</body>
</html>